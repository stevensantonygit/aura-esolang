<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AURA Web Editor - The Gen Z Programming Language</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
      color: #e0e0e0;
      line-height: 1.6;
      overflow-x: hidden;
      min-height: 100vh;
    }

    .header {
      background: linear-gradient(135deg, #6c47ff 0%, #ff47a3 100%);
      padding: 1.5rem 0;
      margin-top: 0.5rem;
      text-align: center;
    }

    .header h1 {
      font-size: 2.5rem;
      font-weight: bold;
      margin-bottom: 0.5rem;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }

    .header p {
      font-size: 1.2rem;
      opacity: 0.9;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem;
    }

    .toolbar {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
      flex-wrap: wrap;
    }

    .btn {
      background: linear-gradient(135deg, #6c47ff 0%, #ff47a3 100%);
      color: white;
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(108, 71, 255, 0.3);
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(108, 71, 255, 0.4);
    }

    .btn-secondary {
      background: linear-gradient(135deg, #34495e 0%, #2c3e50 100%);
      box-shadow: 0 4px 15px rgba(52, 73, 94, 0.3);
    }

    .btn-secondary:hover {
      box-shadow: 0 6px 20px rgba(52, 73, 94, 0.4);
    }

    .btn-danger {
      background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
      box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
    }

    .btn-danger:hover {
      box-shadow: 0 6px 20px rgba(231, 76, 60, 0.4);
    }

    .editor-layout {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.5rem;
      height: 500px;
      margin-bottom: 2rem;
    }

    .editor-panel {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      overflow: hidden;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .panel-header {
      background: rgba(255, 255, 255, 0.1);
      padding: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .panel-title {
      font-weight: 600;
      font-size: 1.1rem;
    }

    .status-indicator {
      width: 8px;
      height: 8px;
      background: #2ecc71;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.5; }
      100% { opacity: 1; }
    }

    .editor-container {
      display: flex;
      height: calc(100% - 60px);
    }

    .line-numbers {
      background: rgba(0, 0, 0, 0.2);
      color: #7f8c8d;
      padding: 1rem 0.5rem;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      line-height: 1.5;
      text-align: right;
      min-width: 50px;
      overflow: hidden;
      user-select: none;
    }

    .code-editor {
      flex: 1;
      background: transparent;
      border: none;
      color: #e0e0e0;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      line-height: 1.5;
      padding: 1rem;
      resize: none;
      outline: none;
      overflow-y: auto;
    }

    .code-editor::placeholder {
      color: #7f8c8d;
      opacity: 0.7;
    }

    .output-panel {
      background: rgba(0, 0, 0, 0.3);
      color: #e0e0e0;
      font-family: 'Courier New', monospace;
      padding: 1rem;
      height: calc(100% - 60px);
      overflow-y: auto;
      white-space: pre-wrap;
      font-size: 14px;
      line-height: 1.5;
    }

    .loading {
      color: #f39c12;
      font-weight: bold;
      animation: blink 1s infinite;
    }

    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0.3; }
    }

    .features-section {
      margin: 3rem 0;
    }

    .features-title {
      text-align: center;
      font-size: 2rem;
      margin-bottom: 2rem;
      background: linear-gradient(135deg, #6c47ff 0%, #ff47a3 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
    }

    .feature-card {
      background: rgba(255, 255, 255, 0.05);
      padding: 1.5rem;
      border-radius: 12px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: transform 0.3s ease;
    }

    .feature-card:hover {
      transform: translateY(-5px);
    }

    .feature-title {
      font-size: 1.3rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: #6c47ff;
    }

    .feature-description {
      opacity: 0.8;
    }

    .info-panel {
      background: rgba(255, 255, 255, 0.05);
      padding: 2rem;
      border-radius: 12px;
      margin-top: 2rem;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .info-title {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      color: #ff47a3;
      font-weight: 600;
    }

    .info-content {
      line-height: 1.8;
    }

    .info-content code {
      background: rgba(0, 0, 0, 0.3);
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
      color: #f39c12;
    }

    .aura-operator {
      color: #ffaa00;
    }

    @media (max-width: 968px) {
      .editor-layout {
        grid-template-columns: 1fr;
        height: auto;
      }
      .editor-panel {
        height: 400px;
      }
      .toolbar {
        justify-content: center;
      }
      .container {
        padding: 1rem;
      }
      .header h1 {
        font-size: 2rem;
      }
      .features-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>AURA WEB EDITOR</h1>
    <p>The Gen Z Programming Language - No Cap!</p>
  </div>

  <div class="container">
    <div class="toolbar">
      <button class="btn" onclick="runCode()">Execute Code</button>
      <button class="btn-secondary btn" onclick="clearOutput()">Clear Output</button>
      <button class="btn-secondary btn" onclick="clearEditor()">Clear Editor</button>
      <button class="btn-danger btn" onclick="showDocumentation()">Documentation</button>
      <div style="margin-left: auto; color: #bdc3c7; font-size: 0.9rem;">
        Lines: <span id="lineCount">1</span> | 
        Characters: <span id="charCount">0</span>
      </div>
    </div>

    <div class="editor-layout">
      <div class="editor-panel">
        <div class="panel-header">
          <div class="panel-title">
            AURA Code Editor
          </div>
          <div style="display: flex; align-items: center; gap: 0.5rem;">
            <div class="status-indicator"></div>
            <span style="font-size: 0.9rem;">Ready to slay!</span>
          </div>
        </div>
        <div class="editor-container">
          <div class="line-numbers" id="lineNumbers">1</div>
          <textarea 
            class="code-editor" 
            id="codeEditor" 
            placeholder="# Enter your AURA code here...
# Example:
aura x = 10
slay 'Hello, AURA!'
vibes x

# Try running some code! No cap!"
            spellcheck="false"
          ></textarea>
        </div>
      </div>

      <div class="editor-panel">
        <div class="panel-header">
          <div class="panel-title">
            Output Console
          </div>
          <div style="display: flex; align-items: center; gap: 0.5rem;">
            <div class="status-indicator"></div>
            <span style="font-size: 0.9rem;">Vibing</span>
          </div>
        </div>
        <div class="output-panel" id="outputPanel">Welcome to AURA Web Editor - The Gen Z Programming Language!

Ready to execute your fire code. Click "Execute Code" to run your program.

System: Online and vibing
Status: Ready for that main character energy
No cap - let's code! ðŸ”¥</div>
      </div>
    </div>

    <div class="features-section">
      <h3 class="features-title">AURA Features</h3>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-title">Gen Z Syntax</div>
          <div class="feature-description">Programming language that speaks your language - periodt!</div>
        </div>
        <div class="feature-card">
          <div class="feature-title">Real-time Execution</div>
          <div class="feature-description">See your code come to life instantly - pure main character energy</div>
        </div>
        <div class="feature-card">
          <div class="feature-title">Squad Arrays</div>
          <div class="feature-description">Work with data structures that vibe with you</div>
        </div>
        <div class="feature-card">
          <div class="feature-title">Fire Functions</div>
          <div class="feature-description">Create reusable code that absolutely slays</div>
        </div>
      </div>
    </div>

    <div class="info-panel">
      <div class="info-title">AURA Quick Reference - No Cap!</div>
      <div class="info-content">
        <strong>Variables:</strong> <code>aura name = value</code><br>
        <strong>Output:</strong> <code>slay value</code>, <code>periodt value</code>, <code>vibes value</code><br>
        <strong>Squad Arrays:</strong> <code>squad arr = [1, 2, 3]</code><br>
        <strong>Functions:</strong> <code>bet function_name(params) ... no-cap</code><br>
        <strong>Loops:</strong> <code>loop count ... endloop</code><br>
        <strong>Conditionals:</strong> <code>betif condition ... nobet</code><br>
        <strong>Math:</strong> <code>slay</code> (add), <code>drip</code> (multiply), <code>cap</code> (subtract), <code>sus</code> (divide)<br>
        <strong>Help:</strong> Type <code>help</code> in your code for complete reference<br>
        <strong>Vibe Check:</strong> <code>vibecheck</code> shows all variables - that's iconic!
      </div>
    </div>
  </div>

  <script>
    // Web Editor Core Logic
    const editor = document.getElementById('codeEditor');
    const output = document.getElementById('outputPanel');
    const lineNumbers = document.getElementById('lineNumbers');
    const lineCount = document.getElementById('lineCount');
    const charCount = document.getElementById('charCount');

    function updateEditor() {
      const lines = editor.value.split('\n');
      const lineNumbersArray = [];
      for (let i = 1; i <= lines.length; i++) {
        lineNumbersArray.push(i);
      }
      lineNumbers.textContent = lineNumbersArray.join('\n');
      lineCount.textContent = lines.length;
      charCount.textContent = editor.value.length;
      lineNumbers.scrollTop = editor.scrollTop;
    }

    function clearOutput() {
      output.textContent = 'Output cleared - ready for more fire code!\n\nNo cap, let\'s vibe with some AURA!';
    }

    function clearEditor() {
      editor.value = '';
      updateEditor();
    }

    function showDocumentation() {
      output.textContent = `AURA Language Documentation - No Cap!

CORE COMMANDS (That's Fire!):
Variables:
  aura variable = value           - Declare/assign variable (main character energy)
  gyatt variable = value          - Alternative assignment (absolutely iconic)

Output Commands (Slay Queen!):
  vibes value                     - Output with [VIBES] prefix (that's the mood)
  slay value                      - Output with [SLAY] prefix (periodt!)
  periodt value                   - Output with [PERIODT] prefix (facts)

Input:
  vibe variable                   - Get user input (interactive energy)

CONTROL STRUCTURES (Big Brain Time):
Loops:
  loop count                      - Start loop (use 'loopindex' for counter)
  endloop                         - End loop
  whileloop condition             - While loop (keep going bestie)
  endwhileloop                    - End while loop

Conditionals:
  betif condition                 - If statement (make it make sense)
  nobet                           - End if
  susif condition                 - Else if (sus but valid)
  nosus                           - End else if

FUNCTIONS (Custom Code That Slays):
  bet function_name(parameters)   - Define function (bet you didn't see that coming)
  no-cap                          - End function definition (literally no cap)
  bet function_name(arguments)    - Call function (execute that fire code)

SQUAD ARRAYS (Data Structure Vibes):
  squad array = [val1, val2, ...]  - Create array (assemble the squad)
  squadget array index             - Get squad member (who's at this position?)
  squadset array index value       - Set squad member (update the roster)
  squadpush array value            - Add to squad (welcome to the team)
  squadpop array                   - Remove from squad (goodbye bestie)

MATHEMATICAL OPERATIONS (Big Math Energy):
  slay a b                        - Addition (a + b) - absolutely slaying
  cap a b                         - Subtraction (a - b) - no cap
  drip a b                        - Multiplication (a * b) - that's the drip
  sus a b                         - Division (a / b) - kinda sus but valid
  sqrt number                     - Square root (getting to the root of it)
  random min max                  - Random number (chaos energy)
  max a b                         - Maximum value (pick the main character)
  min a b                         - Minimum value (still valid though)

UTILITY COMMANDS (Quality of Life):
  help                            - Show help (you're here now bestie)
  vibecheck                       - Show all variables (check the energy)
  exit                            - End program (aura out!)
  maincharacter variable          - Protect variable (plot armor activated)
  ghost variable                  - Delete variable (bye bye)
  rizzup variable                 - Increment (level up!)
  gyattdown variable              - Decrement (tone it down)

SPECIAL VIBES (Pure Iconic Energy):
  compliment                      - Random compliment (you're amazing!)
  motivation                      - Motivational message (main character energy)
  aesthetic                       - Aesthetic message (that's the vibe)
  trend variable                  - Make variable trending (viral moment)

Ready to create some fire code! No cap, AURA is absolutely iconic! ðŸ”¥`;
    }

    async function runCode() {
      const code = editor.value.trim();
      if (!code) {
        output.textContent = 'Skill issue: No code to execute bestie!\n\nPlease enter some fire AURA code in the editor. No cap!';
        return;
      }
      
      output.innerHTML = '<span class="loading">Executing your fire code... This is about to be iconic!</span>';
      
      try {
        const response = await fetch('/run_aura', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ code })
        });

        if (response.ok) {
          const result = await response.json();
          output.textContent = result.output || 'Code executed successfully - absolutely slaying!';
        } else {
          throw new Error('Server error');
        }
      } catch (error) {
        output.textContent = `Skill Issue: Unable to connect to AURA runtime server.

Bestie, here's what you need to check:
1. The AURA server is running (py aura_web.py)
2. Network connection is available (internet vibes)
3. Server endpoint is accessible (localhost:5000)

Error Details: ${error.message}

For testing purposes, you can use the documentation provided.
This is just a temporary vibe check - your code is still iconic!`;
      }
    }

    // Event listeners
    editor.addEventListener('input', updateEditor);
    editor.addEventListener('scroll', () => {
      lineNumbers.scrollTop = editor.scrollTop;
    });

    editor.addEventListener('keydown', (e) => {
      if (e.ctrlKey && e.key === 'Enter') {
        e.preventDefault();
        runCode();
      }

      if (e.key === 'Tab') {
        e.preventDefault();
        const start = editor.selectionStart;
        const end = editor.selectionEnd;
        editor.value = editor.value.substring(0, start) + '  ' + editor.value.substring(end);
        editor.selectionStart = editor.selectionEnd = start + 2;
        updateEditor();
      }
    });

    // Initialize editor
    updateEditor();
  </script>
</body>
</html>